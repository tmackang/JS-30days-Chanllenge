<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Playlist -- Dr.Paper</title>
  <link rel="stylesheet" href="a.css">
  <script src="a.js"></script>
</head>

<body>
  <p id="a" value = ""></p>
  <div class="keys">
    <div type="button" onclick=a(65) data-key="65" class="key">
      <kbd>A</kbd>
      <span class="sound">Honda&Toyota</span>
    </div>
    <div type="button" onclick=a(83) data-key="83" class="key">
      <kbd>S</kbd>
      <span class="sound">香格里拉</span>
    </div>
    <div type="button" onclick=a(68) data-key="68" class="key">
      <kbd>D</kbd>
      <span class="sound">Doin My Thing</span>
    </div>
    <div type="button" onclick=a(70) data-key="70" class="key">
      <kbd>F</kbd>
      <span class="sound">Skit</span>
    </div>
    <div type="button" onclick=a(71) data-key="71" class="key">
      <kbd>G</kbd>
      <span class="sound">你最愛的東西</span>
    </div>
    <div type="button" onclick=a(72) data-key="72" class="key">
      <kbd>H</kbd>
      <span class="sound">香水</span>
    </div>
  </div>


  <audio data-key="65" src="01.mp3"></audio>
  <audio data-key="83" src="02.mp3"></audio>
  <audio data-key="68" src="03.mp3"></audio>
  <audio data-key="70" src="04.mp3"></audio>
  <audio data-key="71" src="05.mp3"></audio>
  <audio data-key="72" src="06.mp3"></audio>

    
    
  <script>
    window.addEventListener('keydown', playSound);
    function a(e)
    {
      const b = document.getElementById('a').innerHTML
      const audio = document.querySelector(`audio[data-key="${e}"]`);
      const key = document.querySelector(`div[data-key="${e}"]`);
      if (!audio) return;
      if ( b === '') 
      {
        key.classList.add('playing');
        audio.currentTime = 0;
        audio.play();
        document.getElementById('a').innerHTML = e;
      }
      else if ( b == e) 
      {
        key.classList.remove('playing');
        audio.pause();
        document.getElementById('a').innerHTML = '';
      }
      else
      {
        const previous = document.querySelector(`audio[data-key="${b}"]`)
        previous.pause();
        key.classList.add('playing');
        audio.currentTime = 0;
        audio.play();
        document.getElementById('a').innerHTML = e;
      }
    }
    
  </script>
</body>

</html>